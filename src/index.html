<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />

  <style>
    html,
    body {
      font-size: 100%;
      background-color: pink;
    }

    h1 {
      font-size: 4em;
      font-weight: 700;
    }

    p {
      font-size: 1em;
    }

    .digital-interaction {
      background-color: lightblue;
    }
  </style>
</head>

<body>
  <div class="container-fluid">
    <div class="row h-100 justify-content-center">
      <div class="col-md-10 col-lg-10">
        <div class="py-5">
          <!-- Hero Section -->
          <div class="py-5">
            <h3>Welcome to</h3>
            <h1 class="py-3">Virtual Venue</h1>
            <p>
              This site provides an introduction to the creative possibilities, tools and techniques for real-time
              remote and hybrid live arts experiences. It is intended as a companion to the virtual venue template
              (https://github.com/AidanNelson/virtual-venue), a free and open source codebase for artists and
              organizations interested in building their own infrastructure.
              <br />
              <br />
              If you're interested in developing creative work with real-time interactivity, read on.
              <br />
              <br />
              This site shares some learnings and explorations from several experiments in remote and hybrid
              performances. It is a collective effort between NYU's Interactive Telecommunications Program and
              CultureHub. Are you working in remote or hybrid performance and want to get in touch? Please reach out at
              <a href="mailto:anelson@nyu.edu">anelson@nyu.edu</a>.
            </p>
          </div>
          <hr />
          
          <!-- Interactivity -->
          <div class="py-5">
            <h4>Forms of Interactivity</h4>
            <p>Performance venues tend to facilitate a few core interactions between people inhabiting those spaces. These interactions might be roughly categorized into the following:</p>
            <ul>
              <li>Performer to Audience - a dancer performs on a stage</li>
              <li>Audience to Performer - an audience member stands up and claps after a performance</li>
              <li>Audience to Audience - audience members discuss the show, cut each other in line buying snacks, etc.</li>
              <li>Performer to Performer - two dancers interact on stage</li>
            </ul>
            <p>Obviously, there are many more forms of interaction which happen within a dynamic and vibrant performance space.  Ushers and house staff guide audience members to their seats. </p>
          </div>
          <hr />

          <!-- Interactivity -->
          <div class="py-5">
            <h4>Forms of (Digital) Interactivity</h4>
            <p>Performance venues tend to facilitate a few core interactions between people inhabiting those spaces. These interactions might be roughly categorized into the following:</p>

            <div class="row m-3 p-3 digital-interaction">
              <div class="col-md-6">
              <h3>Mouse Interactions</h3>
              <p>We can capture and share the position of each audience members' mouse cursor on the webpage.  This can be used to create all sorts of interactions.  For instance, what if we visualized all of these mouse positions on screen.</p>
              <button id="mouseInteractionButton">Click!</button>
            </div>
            <div class="col-md-6">
              <img class="card-img-top" src="./assets/white-square.png" Card image cap">
            </div>
            </div>
            <div class="card" style="width: 18rem;">
              <img class="card-img-top" src="./assets/white-square.png" Card image cap">
              <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                <a href="#" class="btn btn-primary">Go somewhere</a>
              </div>
            </div>
            <p>Obviously, there are many more forms of interaction which happen within a dynamic and vibrant performance space.  Ushers and house staff guide audience members to their seats.  Performers seek </p>
          </div>
          <hr />

          
          <!-- Technologies at Play Section -->
          <div class="py-5">
            <h4>Technologies at Play</h4>
            <p>This is a very special website. It uses a number of core technologies to enable visitors to share
              real-time webcam audio and video as well as unlock a number of other forms of real-time interactivity.
            </p>
            <ul>
              <li>WebRTC</li>
              <li>NodeJS</li>
              <li>WebSockets</li>
            </ul>
            <p>Additionally, the interactivity within this website is powered by server (another computer which relays
              messages between visitors) which uses the following technologies</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>

  <div class="container-fluid vh-100 flex-column" id="main-content-container">
    <!-- ADMIN MESSAGES -->
    <div class="row justify-content-center" id="admin-message-box">
      <div class="col-6 text-center align-self-center" id="adminMessageText">

      </div>
    </div>

    <!-- SHOW CONTENT & CHAT -->
    <div class="row" id="main-content">
      <!-- MAIN CONTENT (LOBBY OR VIDEO) -->
      <div class="col-10 justify-content-center mx-auto" id="main-content-box">
        <div id="broadcastVideoContainer" style="display: none" class="mx-auto">
          <video id="broadcastVideo" autoplay muted playsinline></video>
        </div>
        <audio id="broadcastAudio" style="display: none" autoplay playsinline></audio>

        <div class="row justify-content-center text-center" id="lobby-container"></div>

        <!-- LOBBY CONTROLS -->
        <div class="row justify-content-center border p-1" id="lobby-controls">
          <div class="col-3 align-self-center">
            <div class="select">
              <label for="videoSource"><button id="toggleCameraPausedButton" class="buttonActive">
                  CAMERA ON
                </button></label><select id="videoSource"></select>
            </div>
          </div>

          <div class="col-3 align-self-center">
            <div class="select">
              <label for="audioSource"><button id="toggleMicrophonePausedButton" class="buttonActive">
                  MIC ON
                </button></label><select id="audioSource"></select>
            </div>
          </div>

          <div class="col align-self-center" style="display: none">
            <div class="select">
              <label for="audioOutput">Audio output destination: </label><select id="audioOutput"></select>
            </div>
          </div>
        </div>
      </div>

      <!-- CHAT COLUMN -->
      <div class="col-2 h-100" id="chat-column" style="display: none">
        <div class="row h-100">
          <div class="col h-100 mx-1 p-2 border">
            <div class="row" style="height: 90%; overflow-y: auto" id="chatContainer">
              <div id="chatBox"></div>
            </div>

            <div class="row" style="height: 10%">
              <div class="col-8">
                <input id="chatMessageInput" />
              </div>
              <div class="col-4">
                <button class="smallButton" id="sendChatButton">SEND</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- LOCAL VIDEO -->
  <div style="display: none">
    <video id="local_video" autoplay playsinline muted></video>
  </div>

  <!-- P5 Integration -->
  <!-- <script src="./p5assets/p5.js"></script>
    <script src="./p5assets/p5.sound.min.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/IDMNYU/p5.js-speech@0.0.3/lib/p5.speech.js"></script>

  <script src="./libs/SimpleMediasoupPeer.js"></script>
  <script src="./libs/socket.io.js"></script>
  <!-- <script src="./audience/audience.js"></script> -->
  <script type="module" src="./index.js"></script>

  <main></main>
  <!-- <script src="./audience/audience-sketch.js"></script> -->
</body>

</html>